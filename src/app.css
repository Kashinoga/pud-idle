@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap');

:root {
	/* Typography */
	--font-size: 14px;
	--svg-size: 24px;

	/* Colors */
	--accent: #22d3ee;
	--background: #e8edf6;
	--foreground: #0f172a;
	--muted: #4b5563;
	--primary: #2563eb;
	--primary-soft: rgba(37, 99, 235, 0.12);
	--surface: rgba(255, 255, 255, 0.72);
	--surface-border: rgba(15, 23, 42, 0.08);
	--surface-strong: rgba(255, 255, 255, 0.82);

	/* Effects */
	--blur: 18px;
	--shadow-sharp: 0 12px 30px rgba(15, 23, 42, 0.12);
	--shadow-soft: 0 25px 60px rgba(15, 23, 42, 0.15);
	--shadow-liquid-glass-sm:
		0 1px 4px rgba(15, 23, 42, 0.03), 0 4px 12px rgba(15, 23, 42, 0.05),
		inset 0 1px 0 rgba(255, 255, 255, 0.4);
	--shadow-liquid-glass-md:
		0 2px 8px rgba(15, 23, 42, 0.04), 0 8px 24px rgba(15, 23, 42, 0.08),
		0 16px 48px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255, 255, 255, 0.5);
	--shadow-liquid-glass-lg:
		0 4px 16px rgba(15, 23, 42, 0.06), 0 12px 36px rgba(15, 23, 42, 0.1),
		0 24px 64px rgba(15, 23, 42, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.6);
	--shadow-liquid-glass-xl:
		0 8px 24px rgba(15, 23, 42, 0.08), 0 16px 48px rgba(15, 23, 42, 0.12),
		0 32px 80px rgba(15, 23, 42, 0.1), inset 0 2px 0 rgba(255, 255, 255, 0.7);

	/* Radii */
	--radius-lg: 18px;
	--radius-md: 14px;
	--radius-sm: 12px;
	--radius-xl: 24px;
	--radius-xs: 6px;

	/* Layout */
	--panel-width: 320px;
	--sidebar-width: 260px;
	--top-bar-height: 64px;
	--top-bar-height-mobile: 48px;

	/* Spacing scale (even 0.25rem steps) */
	--space-16xs: 0.0625rem;
	--space-2xl: 2rem;
	--space-2xs: 0.5rem;
	--space-4xl: 4rem;
	--space-4xs: 0.25rem;
	--space-8xs: 0.125rem;
	--space-lg: 1.5rem;
	--space-md: 1.25rem;
	--space-sm: 1rem;
	--space-xl: 1.75rem;
	--space-xs: 0.75rem;

	/* View-specific accent colors */
	--view-calendar: #34d399;
	--view-calendar-soft: rgba(52, 211, 153, 0.12);
	--view-email: var(--primary);
	--view-email-glow: rgba(37, 99, 235, 0.35);
	--view-email-soft: var(--primary-soft);
	--view-home: var(--accent);
	--view-home-glow: rgba(34, 211, 238, 0.45);
	--view-home-soft: rgba(34, 211, 238, 0.12);
	--view-inventory: #8b5cf6;
	--view-inventory-glow: rgba(139, 92, 246, 0.4);
	--view-inventory-soft: rgba(139, 92, 246, 0.12);
	--view-settings: #a78bfa;
	--view-settings-glow: rgba(167, 139, 250, 0.35);
	--view-settings-soft: rgba(167, 139, 250, 0.12);
	--view-woodcutting: #d97706;
	--view-woodcutting-glow: rgba(217, 119, 6, 0.4);
	--view-woodcutting-soft: rgba(217, 119, 6, 0.12);
}

[data-theme='dark'] {
	/* Colors */
	--accent: #34d399;
	--background: #0b1220;
	--foreground: #e5e7eb;
	--muted: #94a3b8;
	--primary: #60a5fa;
	--primary-soft: rgba(96, 165, 250, 0.12);
	--surface: rgba(17, 24, 39, 0.72);
	--surface-border: rgba(255, 255, 255, 0.08);
	--surface-strong: rgba(17, 24, 39, 0.9);

	/* Effects */
	--shadow-sharp: 0 10px 28px rgba(0, 0, 0, 0.32);
	--shadow-soft: 0 20px 60px rgba(0, 0, 0, 0.4);
	--shadow-liquid-glass-sm:
		0 1px 6px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.12),
		inset 0 1px 0 rgba(255, 255, 255, 0.06);
	--shadow-liquid-glass-md:
		0 2px 12px rgba(0, 0, 0, 0.12), 0 8px 32px rgba(0, 0, 0, 0.16), 0 16px 64px rgba(0, 0, 0, 0.12),
		inset 0 1px 0 rgba(255, 255, 255, 0.08);
	--shadow-liquid-glass-lg:
		0 4px 20px rgba(0, 0, 0, 0.16), 0 12px 48px rgba(0, 0, 0, 0.2), 0 24px 80px rgba(0, 0, 0, 0.16),
		inset 0 1px 0 rgba(255, 255, 255, 0.1);
	--shadow-liquid-glass-xl:
		0 8px 32px rgba(0, 0, 0, 0.2), 0 16px 64px rgba(0, 0, 0, 0.24), 0 32px 96px rgba(0, 0, 0, 0.18),
		inset 0 2px 0 rgba(255, 255, 255, 0.12);

	/* View-specific accent colors */
	--view-calendar: #34d399;
	--view-calendar-glow: rgba(52, 211, 153, 0.4);
	--view-calendar-soft: rgba(52, 211, 153, 0.12);
	--view-email: var(--primary);
	--view-email-glow: rgba(96, 165, 250, 0.4);
	--view-email-soft: var(--primary-soft);
	--view-home: var(--accent);
	--view-home-glow: rgba(34, 211, 238, 0.45);
	--view-home-soft: rgba(34, 211, 238, 0.12);
	--view-inventory: #a78bfa;
	--view-inventory-glow: rgba(167, 139, 250, 0.4);
	--view-inventory-soft: rgba(167, 139, 250, 0.12);
	--view-settings: #a78bfa;
	--view-settings-glow: rgba(167, 139, 250, 0.4);
	--view-settings-soft: rgba(167, 139, 250, 0.12);
	--view-woodcutting: #f59e0b;
	--view-woodcutting-glow: rgba(245, 158, 11, 0.45);
	--view-woodcutting-soft: rgba(245, 158, 11, 0.12);
}

/* =====================================
   Base Layout
   ===================================== */

* {
	box-sizing: border-box;
}

html,
body {
	touch-action: manipulation;
}

body {
	background:
		radial-gradient(120% 120% at 20% 20%, rgba(34, 211, 238, 0.12), transparent),
		radial-gradient(120% 120% at 80% 0%, rgba(37, 99, 235, 0.14), transparent),
		radial-gradient(120% 120% at 50% 80%, rgba(52, 211, 153, 0.1), transparent), var(--background);
	color: var(--foreground);
	font-family:
		'Space Grotesk',
		'DM Sans',
		'Segoe UI',
		system-ui,
		-apple-system,
		sans-serif;
	margin: 0;
	min-height: 100dvh;
	overflow: hidden;
	touch-action: manipulation;
	transition:
		background 220ms ease,
		color 220ms ease;
}

/* Links */
a {
	color: var(--primary);
	text-decoration: none;
}

/* Buttons */
button {
	backdrop-filter: blur(var(--blur));
	background: var(--surface);
	border: 1px solid var(--surface-border);
	border-radius: var(--radius-xl);
	box-shadow: var(--shadow-liquid-glass-lg);
	cursor: pointer;
	display: flex;
	font: inherit;
	padding: var(--space-2xs);
	transition:
		background 160ms ease,
		box-shadow 160ms ease,
		transform 160ms ease;
	/* height: 38px; */
}

button:hover {
	transform: translateY(-1px);
}

button:active {
	transform: translateY(0);
}

button.ghost-button {
	background: linear-gradient(120deg, var(--surface), var(--surface-strong));
	border-color: var(--surface-border);
}

button.primary-button {
	background: linear-gradient(135deg, var(--primary), var(--accent));
	color: #0b1220;
	border: none;
	box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
}

.close-button {
	line-height: 0;
}

/* App shell for desktop */
.app-shell {
	position: relative;
	min-height: 100dvh;
	/* margin-top: calc(var(--top-bar-height) + calc(var(--space-2xs)) * 2); */
	margin-bottom: var(--top-bar-height);
	color: var(--foreground);
}

/* App shell for mobile */
@media (max-width: 767px) {
	.app-shell {
		/* margin-top: calc(var(--top-bar-height-mobile) + var(--space-4xs)); */
	}
}

.view-app-container {
	box-shadow: var(--shadow-liquid-glass-xl);
}

@media (min-width: 767px) {
	.view-app-container {
		max-height: calc(100dvh - calc(var(--top-bar-height) + var(--space-4xs)));
		transition: all 200ms ease;
	}

	/* View app container for desktop with open sidebar */
	.app-shell.sidebar-open .view-app-container {
		margin-left: var(--sidebar-width);
	}
}

/* Utility: ambient glow */
.ambient-glow {
	position: fixed;
	inset: 0;
	pointer-events: none;
	background:
		radial-gradient(45% 45% at 15% 30%, rgba(34, 211, 238, 0.14), transparent),
		radial-gradient(35% 35% at 85% 20%, rgba(37, 99, 235, 0.2), transparent),
		radial-gradient(30% 30% at 60% 80%, rgba(52, 211, 153, 0.12), transparent);
	opacity: 0.85;
	z-index: 0;
}

/* =====================================
	Navigation
	===================================== */

/* Moblie top bar */
.mobile-top-bar {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	height: var(--top-bar-height-mobile);
	display: flex;
	align-items: center;
	justify-content: center;
	gap: var(--space-4xs);
	padding: var(--space-4xs);
	background: linear-gradient(120deg, var(--surface), var(--surface-strong));
	border-bottom: 1px solid var(--surface-border);
	backdrop-filter: blur(var(--blur));
	box-shadow: var(--shadow-soft);
	z-index: 18;
	margin-top: var(--space-4xs);
	margin-left: var(--space-4xs);
	margin-right: var(--space-4xs);
	border-radius: var(--radius-xl);
}

@media (min-width: 767px) {
	.mobile-top-bar {
		display: none;
	}
}

.mobile-top-bar .brand {
	font-weight: 600;
	letter-spacing: 0.4px;
	flex-grow: 1;
	justify-content: center;
}

.mobile-top-bar button {
	border-radius: var(--radius-xl);
	padding: var(--space-2xs);
}

/* Top bar ("bottom" bar on mobile) */
.top-bar {
	align-items: center;
	backdrop-filter: blur(var(--blur));
	background: linear-gradient(120deg, var(--surface), var(--surface-strong));
	border-radius: var(--radius-xl);
	border-top: 1px solid var(--surface-border);
	bottom: 0;
	box-shadow: var(--shadow-liquid-glass-xl);
	display: flex;
	gap: var(--space-4xs);
	height: var(--top-bar-height);
	left: 0;
	line-height: var(--font-size);
	margin: var(--space-xs);
	/* margin-left: var(--space-xs);
	margin-right: var(--space-xs);
	margin-top: var(--space-xs); */
	padding: var(--space-xs);
	position: fixed;
	right: 0;
	/* margin-bottom: var(--space-2xs); */
	z-index: 20;
}

@media (min-width: 767px) {
	.top-bar {
		top: 0;
		bottom: auto;
		border-top: none;
		border-bottom: 1px solid var(--surface-border);
	}

	.top-bar .nav-links {
		display: flex;
	}
}

/* Top bar for mobile */
@media (max-width: 767px) {
	.top-bar {
		border-left: 1px solid var(--surface-border);
		border-right: 1px solid var(--surface-border);
		border-radius: var(--radius-xl);
		box-shadow: var(--shadow-soft);
		height: var(--top-bar-height-mobile);
		margin-left: var(--space-4xs);
		margin-right: var(--space-4xs);
		margin-bottom: var(--space-4xs);
		padding: var(--space-4xs);
	}

	.top-bar .brand {
		display: none;
	}

	.top-bar button {
		border-radius: var(--radius-xl);
		padding: var(--space-2xs);
	}
}

/* Top bar links and actions */
.top-bar .nav-links {
	display: none;
	gap: 0.35rem;
	flex-wrap: wrap;
	align-items: center;
}

.top-bar .bar-actions {
	display: flex;
	/* flex: 1; */
	gap: var(--space-4xs);
	align-items: center;
}

@media (min-width: 767px) {
	.top-bar .bar-actions {
		margin-left: auto;
		flex: 0;
	}
}

.top-bar .bar-actions button {
	display: flex;
	justify-content: center;
	/* flex-grow: 1; */
}

.top-bar .pill {
	border-radius: 999px;
	padding: 0.4rem 0.8rem;
	border: 1px solid var(--surface-border);
	background: var(--surface);
}

/* =====================================
	Sidebar
	===================================== */

/* Sidebar for mobile */
.sidebar {
	position: fixed;
	/* top: var(--space-4xs); */
	/* left: var(--space-4xs); */
	padding: var(--space-xs) 0;
	/* margin-top: calc(var(--top-bar-height) + var(--space-4xs)); */
	margin-left: var(--space-4xs);
	margin-right: var(--space-4xs);
	/* width: min(80vw, var(--sidebar-width)); */
	/* (100dvh - (top bar height + (top bar margin top + top bar margin bottom) + (content area margin bottom))) */
	height: calc(
		100dvh -
			calc(
				var(--top-bar-height-mobile) + var(--top-bar-height-mobile) + var(--space-4xs) +
					var(--space-4xs) + var(--space-4xs) + var(--space-4xs)
			)
	);
	background: var(--surface);
	border: 1px solid var(--surface-border);
	border-radius: var(--radius-xl);
	backdrop-filter: blur(var(--blur));
	box-shadow: var(--shadow-liquid-glass-xl);
	transform: translateY(
		calc(100% + var(--top-bar-height-mobile) + var(--space-4xs) + var(--space-4xs))
	);
	transition: transform 200ms ease;
	will-change: transform;
	z-index: 10;
	overflow: auto;
	scrollbar-width: none;
}

/* Sidebar for desktop */
@media (min-width: 767px) {
	.sidebar {
		margin-left: var(--space-sm);
		transform: translateX(calc(-100% - var(--space-sm)));
		/* margin-top: calc(var(--top-bar-height) + var(--space-xs) + var(--space-xs)); */
		width: calc(var(--sidebar-width) - var(--space-xs));
		/* (100dvh - (top bar height + (top bar margin top + top bar margin bottom) + (content area margin bottom))) */
		height: calc(
			100dvh - calc(var(--top-bar-height) + var(--space-xs) + var(--space-xs) + var(--space-xs))
		);
	}
}

.sidebar.is-open {
	transform: translateX(calc(100% - var(--sidebar-width) + var(--space-2xs)));
}

@media (max-width: 767px) {
	.sidebar.is-open {
		transform: translateY(0);
	}
}

.sidebar .section-title {
	color: var(--muted);
	font-size: small;
	font-style: italic;
	padding: 0 var(--space-2xs);
}

.sidebar .section-sub-title {
	padding: 0 var(--space-2xs) var(--space-2xs);
	font-size: 0.85rem;
	font-style: italic;
	color: var(--muted);
	opacity: 0.8;
}

.sidebar .nav-stack {
	display: flex;
	flex-direction: column;
	gap: var(--space-4xs);
	padding: var(--space-xs);
}

.sidebar .nav-item {
	padding: var(--space-2xs) var(--space-xs);
	border-radius: var(--radius-sm);
	background: var(--primary-soft);
	border: 1px solid var(--surface-border);
	box-shadow: var(--shadow-liquid-glass-sm);
	color: var(--foreground);
	display: flex;
	gap: var(--space-4xs);
	align-items: center;
	width: 100%;
	text-align: left;
	cursor: pointer;
	transition: all 200ms ease;
	font-size: small;
	line-height: var(--svg-size);
}

.sidebar .nav-item .nav-status {
	margin-left: auto;
	display: inline-flex;
	align-items: center;
	justify-content: flex-end;
	min-width: 12px;
	margin-right: var(--space-4xs);
}

.sidebar .nav-item .nav-status .pip {
	width: 8px;
	height: 8px;
	border-radius: 50%;
	background: var(--muted);
	box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.06);
}

.sidebar .nav-item .nav-status-label {
	font-size: x-small;
}

.sidebar .nav-item .nav-status .pip.connected {
	background: #22c55e;
	animation: navPingConnected 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

.sidebar .nav-item .nav-status .pip.degraded {
	background: #f59e0b;
	animation: navPingDegraded 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

.sidebar .nav-item .nav-status .pip.disconnected {
	background: #ef4444;
	animation: navPingDisconnected 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

@keyframes navPingConnected {
	0%,
	100% {
		box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.2);
	}
	50% {
		box-shadow: 0 0 0 8px rgba(34, 197, 94, 0);
	}
}

@keyframes navPingDegraded {
	0%,
	100% {
		box-shadow: 0 0 0 6px rgba(245, 158, 11, 0.2);
	}
	50% {
		box-shadow: 0 0 0 8px rgba(245, 158, 11, 0);
	}
}

@keyframes navPingDisconnected {
	0%,
	100% {
		box-shadow: 0 0 0 6px rgba(239, 68, 68, 0.2);
	}
	50% {
		box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
	}
}

.sidebar .nav-item .nav-icon {
	display: flex;
}

.sidebar .nav-item:hover {
	transform: translateY(-1px);
	box-shadow: var(--shadow-soft);
	background: var(--primary-soft);
}

.sidebar .nav-item.is-active {
	background: var(--surface-strong);
	box-shadow: var(--shadow-soft);
	font-weight: 600;
}

.sidebar .nav-item.is-active.nav-home {
	background: var(--view-home-soft);
	box-shadow:
		0 0 26px var(--view-home-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-email {
	background: var(--view-email-soft);
	box-shadow:
		0 0 26px var(--view-email-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-calendar {
	background: var(--view-calendar-soft);
	box-shadow:
		0 0 26px var(--view-calendar-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-settings {
	background: var(--view-settings-soft);
	box-shadow:
		0 0 26px var(--view-settings-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-woodcutting {
	background: var(--view-woodcutting-soft);
	box-shadow:
		0 0 26px var(--view-woodcutting-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-inventory {
	background: var(--view-inventory-soft);
	box-shadow:
		0 0 26px var(--view-inventory-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-equipment {
	background: var(--view-woodcutting-soft);
	box-shadow:
		0 0 26px var(--view-woodcutting-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-player {
	background: var(--view-email-soft);
	box-shadow:
		0 0 26px var(--view-email-glow),
		var(--shadow-soft);
}

.sidebar .nav-item.is-active.nav-developer {
	background: var(--view-settings-soft);
	box-shadow:
		0 0 26px var(--view-settings-glow),
		var(--shadow-soft);
}

.sidebar-footer {
	padding: var(--space-2xs);
}

/* Sidebar backdrop */
.sidebar-backdrop {
	background: rgba(0, 0, 0, 0.2);
	backdrop-filter: blur(0.2px);
	bottom: 0;
	cursor: pointer;
	display: none;
	left: 0;
	opacity: 1;
	position: fixed;
	right: 0;
	top: 0;
	transition:
		opacity 200ms ease,
		backdrop-filter 200ms ease;
	z-index: 9;
}

/* Sidebar backdrop for desktop */
@media (max-width: 767px) {
	.sidebar-backdrop {
		display: block;
	}
}

/* Content area */
.content-area {
	display: flex;
	flex-direction: column;
	margin-left: var(--space-xs);
	margin-right: var(--space-xs);
	/* padding: var(--space-4xs); */
	position: relative;
	transition: margin-left 200ms ease;
	z-index: 1;
}

/* Content area for mobile */
@media (max-width: 767px) {
	.content-area {
		/* max-height: calc(100dvh - calc(var(--top-bar-height) + var(--space-xs) + var(--space-xs))); */
		/* padding: 0 var(--space-xs); */
		margin-left: var(--space-4xs);
		margin-right: var(--space-4xs);
	}

	/* Content area for mobile with open sidebar */
	.app-shell.sidebar-open .content-area {
		/* margin-left: calc(var(--sidebar-width) + var(--space-4xs)); */
	}
}

/* View content max-height for desktop */
.view-content-max-height {
	margin-top: calc(var(--top-bar-height) + calc(var(--space-xs) + var(--space-xs)));
	max-height: calc(
		100dvh - calc(var(--top-bar-height) + var(--space-xs) + var(--space-xs) + var(--space-xs))
	);
}

/* View content max-height for mobile */
@media (max-width: 767px) {
	.view-content-max-height {
		margin-top: calc(var(--top-bar-height-mobile) + calc(var(--space-4xs) + var(--space-4xs)));
		max-height: calc(
			100dvh -
				calc(
					var(--top-bar-height-mobile) + var(--top-bar-height-mobile) + var(--space-4xs) +
						var(--space-4xs) + var(--space-4xs) + var(--space-4xs)
				)
		);
	}
}

/* =====================================
	Content & UI Elements
	===================================== */

/* Content header */
.content-header {
	display: flex;
	flex-direction: column;
	gap: var(--space-2xs);
}

.content-header h1 {
	margin: 0;
}

.content-header p {
	margin: 0;
	color: var(--muted);
	max-width: 60ch;
}

/* Cards */
.card-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
	gap: var(--space-2xs);
}

.card {
	background-color: var(--surface);
	border: 1px solid var(--surface-border);
	border-radius: var(--radius-sm);
	box-shadow: var(--shadow-liquid-glass-lg);
	display: flex;
	flex-direction: column;
	gap: var(--space-2xs);
	padding: var(--space-sm);
}

@media (max-width: 767px) {
	.card {
		font-size: small;
	}
}

.card-title {
	margin: 0;
	color: var(--primary);
}

.card-metadata {
	display: flex;
	flex-wrap: wrap;
	gap: var(--space-4xs);
	margin-top: var(--space-2xs);
}

.card-description {
	display: flex;
	flex-direction: column;
	flex: 1;
}

.card-list {
	display: flex;
	flex-direction: column;
	font-size: small;
	gap: var(--space-4xs);
	list-style: none;
	padding: 0;
}

.card-list li {
	display: flex;
	justify-content: space-between;
}

.card-actions {
	display: flex;
	flex-direction: column;
	gap: var(--space-4xs);
}

.card-lore {
	color: var(--muted);
	font-size: xx-small;
	font-style: italic;
}

.card-lore p {
	margin: 0;
}

.glass-card {
	background: var(--surface);
	border-radius: var(--radius-lg);
	border: 1px solid var(--surface-border);
	box-shadow: var(--shadow-soft);
	backdrop-filter: blur(var(--blur));
	padding: var(--space-md);
	min-height: 140px;
	display: flex;
	flex-direction: column;
	gap: var(--space-2xs);
}

.glass-card .label {
	font-size: 0.85rem;
	text-transform: uppercase;
	color: var(--muted);
	letter-spacing: 0.08em;
}

.glass-card .title {
	font-weight: 600;
}

.glass-card p {
	margin: 0;
	color: var(--muted);
	line-height: 1.5;
}

/* =====================================
	Panels
	===================================== */

.overlay-panel {
	backdrop-filter: blur(var(--blur));
	background: var(--surface);
	border: 1px solid var(--surface-border);
	border-radius: var(--radius-xl);
	box-shadow: var(--shadow-soft);
	/* (100dvh - (top bar height + (top bar margin top + top bar margin bottom) + (content area margin bottom))) */
	height: calc(
		100dvh - calc(var(--top-bar-height) + var(--space-xs) + var(--space-xs) + var(--space-xs))
	);
	margin-top: calc(var(--top-bar-height) + var(--space-xs) + var(--space-xs));
	overflow: auto;
	padding: 0;
	position: fixed;
	right: 0;
	top: 0;
	transform: translateX(calc(100% + var(--top-bar-height-mobile) + var(--space-4xs)));
	transition: transform 200ms ease;
	width: var(--panel-width);
	z-index: 15;
	scrollbar-width: none;
}

.overlay-panel.is-open {
	margin-left: var(--space-4xs);
	transform: translateX(calc(var(--space-xs) * -1));
}

/* Panel for mobile */
@media (max-width: 767px) {
	.overlay-panel {
		/* (100dvh - (top bar height + (top bar margin top + top bar margin bottom) + (content area margin bottom))) */
		height: calc(
			100dvh -
				calc(
					var(--top-bar-height-mobile) + var(--top-bar-height-mobile) + var(--space-4xs) +
						var(--space-4xs) + var(--space-4xs) + var(--space-4xs)
				)
		);
		margin-top: calc(
			var(--top-bar-height-mobile) + var(--space-4xs) + var(--space-4xs) + var(--space-4xs)
		);
		width: calc(100% - var(--space-4xs) - var(--space-4xs));
		margin-right: var(--space-4xs);
		transform: translateY(calc(100% + var(--top-bar-height-mobile) + var(--space-4xs)));
		/* width: 100%; */
	}

	.overlay-panel.is-open {
		margin-left: var(--space-4xs);
		transform: translateY(calc(var(--space-4xs) * -1));
	}
}

.panel-backdrop {
	background: rgba(0, 0, 0, 0.2);
	backdrop-filter: blur(0.2px);
	bottom: 0;
	cursor: pointer;
	left: 0;
	opacity: 1;
	position: fixed;
	right: 0;
	top: 0;
	transition:
		opacity 200ms ease,
		backdrop-filter 200ms ease;
	z-index: 14;
}

.overlay-panel .panel-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: var(--space-2xs);
}

.overlay-panel .close-button {
	display: flex;
	align-items: center;
	justify-content: center;
	background: linear-gradient(120deg, var(--surface), var(--surface-strong));
	border: 1px solid var(--surface-border);
	border-radius: var(--radius-md);
	color: var(--foreground);
	padding: 0.5rem 1rem;
	cursor: pointer;
	box-shadow: none;
	transition: all 160ms ease;
	flex-shrink: 0;
	font-weight: 500;
	font-size: 0.95rem;
}

.close-icon {
	display: flex;
}

/* Panel close button for desktop */
@media (max-width: 767px) {
	.overlay-panel .panel-header .close-button {
		display: none;
	}
}

.overlay-panel .close-button:hover {
	background: var(--primary-soft);
	border-color: var(--primary);
	color: var(--foreground);
	transform: none;
	box-shadow: none;
}

.overlay-panel .panel-body {
	color: var(--muted);
	line-height: 1.5;
	display: grid;
	gap: var(--space-2xs);
	padding: var(--space-2xs);
}

.overlay-panel .panel-footer {
	display: flex;
	align-items: center;
	justify-content: flex-end;
	height: var(--top-bar-height);
	padding: var(--space-2xs);
	border-top: 1px solid var(--surface-border);
	background: var(--surface-strong);
}

@media (max-width: 767px) {
	.overlay-panel .panel-footer {
		position: sticky;
		bottom: 0;
	}
}

.mobile-only {
	display: none;
}

@media (max-width: 767px) {
	.mobile-only {
		display: block;
	}
}

/* Panel detail section */
.item-detail-section {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 1rem;
	padding: 1.5rem;
	background: var(--surface-strong);
	border-radius: var(--radius-lg);
	border: 1px solid var(--view-inventory);
	box-shadow: 0 0 20px var(--view-inventory-glow);
}

.item-detail-icon {
	font-size: 3.5rem;
	line-height: 1;
}

.item-detail-name {
	font-size: 1.5rem;
	font-weight: 700;
	color: var(--foreground);
}

.item-detail-count {
	display: flex;
	gap: 0.5rem;
	align-items: baseline;
	font-size: 1rem;
}

.item-detail-count .label {
	color: var(--text-secondary);
	font-weight: 500;
}

.item-detail-count .value {
	font-size: 1.25rem;
	font-weight: 700;
	color: var(--view-inventory);
}

.chip-row {
	display: flex;
	flex-wrap: wrap;
	gap: 0.35rem;
}

.chip {
	padding: 0.35rem 0.65rem;
	border-radius: 999px;
	border: 1px solid var(--surface-border);
	background: var(--surface-strong);
	font-size: 0.85rem;
}

.metric-row {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
	gap: 0.6rem;
}

.metric {
	padding: 0.75rem;
	border-radius: var(--radius-sm);
	border: 1px solid var(--surface-border);
	background: var(--primary-soft);
	box-shadow: var(--shadow-sharp);
	font-weight: 600;
}

.divider {
	border: none;
	height: 1px;
	background: var(--surface-border);
}

.section-block {
	background: var(--surface);
	border-radius: var(--radius-lg);
	border: 1px solid var(--surface-border);
	box-shadow: var(--shadow-soft);
	padding: 1rem;
	backdrop-filter: blur(var(--blur));
}

.section-block h3 {
	margin: 0 0 0.4rem;
}

.section-block p {
	margin: 0;
	color: var(--muted);
	line-height: 1.5;
}

.scrollable {
	overflow: auto;
	max-height: 100%;
}

::-webkit-scrollbar {
	width: 8px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: rgba(15, 23, 42, 0.16);
	border-radius: 999px;
}

[data-theme='dark'] ::-webkit-scrollbar-thumb {
	background: rgba(148, 163, 184, 0.25);
}

.panel-paragraph {
	margin-top: 0.5rem;
}

/* =====================================
	Utilities
	===================================== */

/* Additional utility classes */
.glass-surface {
	background: linear-gradient(120deg, var(--surface), var(--surface-strong));
	backdrop-filter: blur(var(--blur));
}

.glass-border {
	border: 1px solid var(--surface-border);
}

.glass-radius {
	border-radius: var(--radius-lg);
}

.glass-shadow-soft {
	box-shadow: var(--shadow-soft);
}

.glass-shadow-top {
	box-shadow: 0 6px 16px rgba(0, 0, 0, 0.06);
}

.glass-shadow-bottom {
	box-shadow: 0 -6px 16px rgba(0, 0, 0, 0.06);
}
.glass-shadow-accent--email {
	box-shadow:
		0 8px 24px rgba(59, 130, 246, 0.25),
		0 2px 10px rgba(37, 99, 235, 0.18),
		inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.glass-shadow-accent--inventory {
	box-shadow:
		0 8px 24px rgba(220, 38, 38, 0.22),
		0 2px 10px rgba(239, 68, 68, 0.16),
		inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.glass-shadow-accent--woodcutting {
	box-shadow:
		0 8px 24px rgba(34, 197, 94, 0.22),
		0 2px 10px rgba(16, 185, 129, 0.16),
		inset 0 1px 0 rgba(255, 255, 255, 0.08);
}
